<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Transport Oxygen Duration Reference</title>
</head>

<body>

    <div class="row">
        <div class="col-2"></div>
        <div class="col">
            <h2>Oxygen Duration Reference</h2>
            <!-- <form> -->
            Tank Type (Constant)
            <select class="custom-select" id="cylinderConstant">
                <option value="0.16">D (0.16)</option>
                <option value="0.28">E (0.28)</option>
                <option value="2.41">G (2.41)</option>
                <option value="3.14">H (3.14)</option>
                <option value="3.14">K (3.14)</option>
                <option value="1.56">M (1.56)</option>
                <option value="0.75" selected>A119 (0.75)</option>
            </select>

            <br>

            <p>
                Gauge pressure (psi): <input id="gaugePressure" type="number" min=0 required>
                <br><span>Safe residual pressure = 200 psi</span>
            </p>

            <br>

            <p>
                Flow Rate (L/min): <input id="flowRate" type="number" min=0 required>
            </p>

            <br>

            <button type="submit" onclick="calculate()">Calculate</button>

            <h1 style="text-align: center" id="duration"></h1>


            <h3>Formula</h3>
            <p>
                ((<span id="gaugePSI">Gauge Pressure</span> - 200) x <span id="constant">Constant</span>) /
                <span id="flow">Flow Rate</span> = <span id="duration">Duration (in minutes)</span>
            </p>
        </div>

        <div class="col-2">
            <!-- <a href="https://healthfully.com/calculate-oxygen-tank-duration-8526252.html">Reference</a> -->
        </div>
    </div>




    <!-- SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT SCRIPT -->
    <script type="text/javascript">

        var cylinderConstant, currentPSI, rate //declare variables that get form inputs


        calculate = () => { //function run after user enters relevent info in form

            cylinderConstant = parseFloat(document.getElementById("cylinderConstant").value); //cylinder constant based on size selected by user
            currentPSI = document.getElementById("gaugePressure").value; //remaining PSI entered by user
            rate = document.getElementById("flowRate").value; //flow rate (use) entered by user

            console.log(cylinderConstant); //log stuff
            console.log(currentPSI); //log stuff
            console.log(rate); //log stuff

            document.getElementById("constant").innerHTML = cylinderConstant; //write formula volues at bottom of the page
            document.getElementById("gaugePSI").innerHTML = currentPSI; //write formula volues at bottom of the page
            document.getElementById("flow").innerHTML = rate; //write formula volues at bottom of the page

            var timeLeft = Math.floor(((currentPSI * cylinderConstant - 200) / rate));
            console.log(timeLeft)

            document.getElementById("duration").innerHTML = (timeLeft + " minutes")
        }

    </script>
</body>

</html>